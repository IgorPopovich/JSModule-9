{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEIC,EAAQC,SAASC,cAAc,uBAC/BC,EAAOF,SAASC,cAAc,sBAC9BE,EAASH,SAASC,cAAc,wBAChCG,EAAYJ,SAASC,cAAc,yBACnCI,EAAQ,EAEZ,SAASC,EAAeC,EAAUC,GAChC,OAAO,IAAIC,SAAQ,SAAEC,EAASC,GACNC,KAAKC,SAAW,GAGlCH,EAAQ,CAAEH,WAAUO,MAAAN,IAEpBG,EAAO,CAAEJ,WAAUO,MAAAN,G,IAI3B,SAASO,IACPV,EAAQ,EACRN,EAAMiB,MAAQ,GACdd,EAAKc,MAAQ,GACbb,EAAOa,MAAQ,E,CAIjBZ,EAAUa,iBAAiB,SAAS,SAACC,GACnCA,EAAMC,iBACNC,YAAW,WAETd,EAAcD,EAAOH,EAAKc,OACzBK,MAAK,SAAAC,G,IAAGf,EAAQe,EAARf,SAAUgB,EAAKD,EAALR,MACfU,EAAA3B,GAAS4B,OAAOC,QAAQ,uBAAwCC,OAAfpB,EAAS,QAAYoB,OAANJ,EAAM,OACpElB,G,IAELuB,OAAM,SAAAN,G,IAAGf,EAAQe,EAARf,SAAUsB,EAAKP,EAALR,MAChBU,EAAA3B,GAAS4B,OAAOK,QAAQ,sBAAuCH,OAAfpB,EAAS,QAAYoB,OAANE,EAAM,OACnExB,G,IAGN,IAAI0B,EAAUC,aAAY,W,OAC1B1B,EAAcD,EAAOH,EAAKc,OACzBK,MAAK,SAAAC,G,IAAGf,EAAQe,EAARf,SAAU0B,EAAKX,EAALR,MACbT,GAASF,EAAOa,QAClBkB,cAAcH,GACdhB,KAEAS,EAAA3B,GAAS4B,OAAOC,QAAQ,uBAAwCC,OAAfpB,EAAS,QAAYoB,OAANM,EAAM,OACpE5B,G,IAELuB,OAAM,SAAAN,G,IAAGf,EAAQe,EAARf,SAAU4B,EAAKb,EAALR,MACdT,GAASF,EAAOa,QAClBkB,cAAcH,GACdhB,KAEAS,EAAA3B,GAAS4B,OAAOK,QAAQ,sBAAqCH,OAAfpB,EAAS,QAAYoB,OAANQ,EAAM,OACnE9B,G,MACAH,EAAKc,M,GACPjB,EAAMiB,M","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nlet delay = document.querySelector('input[name=\"delay\"]');\nlet step = document.querySelector('input[name=\"step\"]');\nlet amount = document.querySelector('input[name=\"amount\"]');\nlet btnSubmit = document.querySelector('button[type=\"submit\"]');\nlet count = 1;\n\nfunction createPromise( position, delay ) {\n  return new Promise(( resolve, reject ) => {\n    const shouldResolve = Math.random() > 0.3;\n\n      if (shouldResolve) {\n        resolve({ position, delay })\n      } else {\n        reject({ position, delay })\n      }\n})}\n\nfunction stopFunc () {\n  count = 0\n  delay.value = ''\n  step.value = ''\n  amount.value = ''\n}\n\n\nbtnSubmit.addEventListener('click', (event) => {\n  event.preventDefault();\n  setTimeout(() => {\n\n    createPromise(count, step.value)\n    .then(({ position, delay }) => {\n        Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n        count++\n    })\n    .catch(({ position, delay }) => {\n        Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n        count++\n    })\n\n    let timerId = setInterval(() => \n    createPromise(count, step.value)\n    .then(({ position, delay }) => {\n      if (count >= amount.value) {\n        clearInterval(timerId); \n        stopFunc()\n      }\n        Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n        count++\n    })\n    .catch(({ position, delay }) => {\n      if (count >= amount.value) {\n        clearInterval(timerId);\n        stopFunc()\n      }\n        Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n        count++\n    }), step.value);\n  },  delay.value)\n})\n\n\n/*\n      if (count <= 1) {\n        steped = 0\n      } else {\n        steped = step.value\n      }\n      */"],"names":["$6JpON","parcelRequire","$ce04d3a99e08e73b$var$delay","document","querySelector","$ce04d3a99e08e73b$var$step","$ce04d3a99e08e73b$var$amount","$ce04d3a99e08e73b$var$btnSubmit","$ce04d3a99e08e73b$var$count","$ce04d3a99e08e73b$var$createPromise","position","delay1","Promise","resolve","reject","Math","random","delay","$ce04d3a99e08e73b$var$stopFunc","value","addEventListener","event","preventDefault","setTimeout","then","param","delay2","$parcel$interopDefault","Notify","success","concat","catch","delay3","failure","timerId","setInterval","delay4","clearInterval","delay5"],"version":3,"file":"03-promises.b0339320.js.map"}