{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEIC,EAAQC,SAASC,cAAc,uBAC/BC,EAAOF,SAASC,cAAc,sBAC9BE,EAASH,SAASC,cAAc,wBAChCG,EAAYJ,SAASC,cAAc,yBACnCI,EAAQ,EACRC,EAAM,EAEV,SAASC,EAAeC,EAAUC,GAChC,OAAO,IAAIC,SAAQ,SAAEC,EAASC,GACNC,KAAKC,SAAW,GAGlCH,EAAQ,CAAEH,WAAUO,MAAAN,IAEpBG,EAAO,CAAEJ,WAAUO,MAAAN,G,IAI3B,SAASO,IACPX,EAAQ,EACRN,EAAMkB,MAAQ,GACdf,EAAKe,MAAQ,GACbd,EAAOc,MAAQ,GACfX,EAAM,C,CAGRF,EAAUc,iBAAiB,SAAS,SAACC,GACnCb,EAAMc,OAAOrB,EAAMkB,OACnBE,EAAME,iBACNC,YAAW,WAETf,EAAcF,EAAOC,GACpBiB,MAAK,SAAAC,G,IAAGhB,EAAQgB,EAARhB,SAAUiB,EAAKD,EAALT,MACfW,EAAA7B,GAAS8B,OAAOC,QAAQ,uBAAwCC,OAAfrB,EAAS,QAAYqB,OAANJ,EAAM,OACpEpB,IACFC,GAAOc,OAAOlB,EAAKe,M,IAEtBa,OAAM,SAAAN,G,IAAGhB,EAAQgB,EAARhB,SAAUuB,EAAKP,EAALT,MAChBW,EAAA7B,GAAS8B,OAAOK,QAAQ,sBAAuCH,OAAfrB,EAAS,QAAYqB,OAANE,EAAM,OACnE1B,IACFC,GAAOc,OAAOlB,EAAKe,M,IAGvB,IAAIgB,EAAUC,aAAY,W,OAC1B3B,EAAcF,EAAOC,GACpBiB,MAAK,SAAAC,G,IAAGhB,EAAQgB,EAARhB,SAAU2B,EAAKX,EAALT,MACbV,GAASF,EAAOc,QAClBmB,cAAcH,GACdjB,KAEAU,EAAA7B,GAAS8B,OAAOC,QAAQ,uBAAwCC,OAAfrB,EAAS,QAAYqB,OAANM,EAAM,OACpE9B,IACFC,GAAOc,OAAOlB,EAAKe,M,IAEtBa,OAAM,SAAAN,G,IAAGhB,EAAQgB,EAARhB,SAAU6B,EAAKb,EAALT,MACdV,GAASF,EAAOc,QAClBmB,cAAcH,GACdjB,KAEAU,EAAA7B,GAAS8B,OAAOK,QAAQ,sBAAqCH,OAAfrB,EAAS,QAAYqB,OAANQ,EAAM,OACnEhC,IACAC,GAAOc,OAAOlB,EAAKe,M,MACnBf,EAAKe,M,GACPlB,EAAMkB,M","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nlet delay = document.querySelector('input[name=\"delay\"]');\nlet step = document.querySelector('input[name=\"step\"]');\nlet amount = document.querySelector('input[name=\"amount\"]');\nlet btnSubmit = document.querySelector('button[type=\"submit\"]');\nlet count = 1;\nlet num = 0;\n\nfunction createPromise( position, delay ) {\n  return new Promise(( resolve, reject ) => {\n    const shouldResolve = Math.random() > 0.3;\n\n      if (shouldResolve) {\n        resolve({ position, delay })\n      } else {\n        reject({ position, delay })\n      }\n})}\n\nfunction stopFunc () {\n  count = 0;\n  delay.value = '';\n  step.value = '';\n  amount.value = '';\n  num = 0;\n}\n\nbtnSubmit.addEventListener('click', (event) => {\n  num = Number(delay.value)\n  event.preventDefault();\n  setTimeout(() => {\n\n    createPromise(count, num)\n    .then(({ position, delay }) => {\n        Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n        count++\n        num += Number(step.value)\n    })\n    .catch(({ position, delay }) => {\n        Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n        count++\n        num += Number(step.value)\n    })\n\n    let timerId = setInterval(() => \n    createPromise(count, num)\n    .then(({ position, delay }) => {\n      if (count >= amount.value) {\n        clearInterval(timerId); \n        stopFunc()\n      }\n        Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n        count++\n        num += Number(step.value)\n    })\n    .catch(({ position, delay }) => {\n      if (count >= amount.value) {\n        clearInterval(timerId);\n        stopFunc()\n      }\n        Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n        count++\n        num += Number(step.value)\n    }), step.value);\n  },  delay.value)\n})\n\n\n/*\n      if (count <= 1) {\n        steped = 0\n      } else {\n        steped = step.value\n      }\n      */"],"names":["$6JpON","parcelRequire","$ce04d3a99e08e73b$var$delay","document","querySelector","$ce04d3a99e08e73b$var$step","$ce04d3a99e08e73b$var$amount","$ce04d3a99e08e73b$var$btnSubmit","$ce04d3a99e08e73b$var$count","$ce04d3a99e08e73b$var$num","$ce04d3a99e08e73b$var$createPromise","position","delay1","Promise","resolve","reject","Math","random","delay","$ce04d3a99e08e73b$var$stopFunc","value","addEventListener","event","Number","preventDefault","setTimeout","then","param","delay2","$parcel$interopDefault","Notify","success","concat","catch","delay3","failure","timerId","setInterval","delay4","clearInterval","delay5"],"version":3,"file":"03-promises.9c0dfbed.js.map"}